import { Component, Input, HostBinding, booleanAttribute } from '@angular/core';
import { TicksOrientation, TickLabelsOrientation } from '../slider.common';
import { NgFor, NgClass, NgTemplateOutlet } from '@angular/common';
import * as i0 from "@angular/core";
/**
 * @hidden
 */
export class IgxTicksComponent {
    constructor() {
        /**
         * @hidden
         */
        this.ticksClass = true;
    }
    /**
     * @hidden
     */
    get ticksTopClass() {
        return this.ticksOrientation === TicksOrientation.Top;
    }
    /**
     * @hidden
     */
    get hasPrimaryClass() {
        return this.primaryTicks > 0;
    }
    /**
     * @hidden
     */
    get labelsTopToBottomClass() {
        return this.tickLabelsOrientation === TickLabelsOrientation.TopToBottom;
    }
    /**
     * @hidden
     */
    get labelsBottomToTopClass() {
        return this.tickLabelsOrientation === TickLabelsOrientation.BottomToTop;
    }
    /**
     * Returns the template context corresponding to
     * {@link IgxTickLabelTemplateDirective}
     *
     * ```typescript
     * return {
     *  $implicit //returns the value per each tick label.
     *  isPrimery //returns if the tick is primary.
     *  labels // returns the {@link labels} collection.
     *  index // returns the index per each tick of the whole sequence.
     * }
     * ```
     *
     * @param idx the index per each tick label.
     */
    context(idx) {
        return {
            $implicit: this.tickLabel(idx),
            isPrimary: this.isPrimary(idx),
            labels: this.labels,
            index: idx
        };
    }
    /**
     * @hidden
     */
    get ticksLength() {
        return this.primaryTicks > 0 ?
            ((this.primaryTicks - 1) * this.secondaryTicks) + this.primaryTicks :
            this.secondaryTicks > 0 ? this.secondaryTicks : 0;
    }
    hiddenTickLabels(idx) {
        return this.isPrimary(idx) ? this.primaryTickLabels : this.secondaryTickLabels;
    }
    /**
     * @hidden
     */
    isPrimary(idx) {
        return this.primaryTicks <= 0 ? false :
            idx % (this.secondaryTicks + 1) === 0;
    }
    /**
     * @hidden
     */
    tickLabel(idx) {
        if (this.labelsViewEnabled) {
            return this.labels[idx];
        }
        const labelStep = (Math.max(this.minValue, this.maxValue) - Math.min(this.minValue, this.maxValue)) / (this.ticksLength - 1);
        const labelVal = labelStep * idx;
        return (this.minValue + labelVal).toFixed(2);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.4", ngImport: i0, type: IgxTicksComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "16.1.0", version: "18.2.4", type: IgxTicksComponent, isStandalone: true, selector: "igx-ticks", inputs: { primaryTicks: "primaryTicks", secondaryTicks: "secondaryTicks", primaryTickLabels: ["primaryTickLabels", "primaryTickLabels", booleanAttribute], secondaryTickLabels: ["secondaryTickLabels", "secondaryTickLabels", booleanAttribute], ticksOrientation: "ticksOrientation", tickLabelsOrientation: "tickLabelsOrientation", maxValue: "maxValue", minValue: "minValue", labelsViewEnabled: ["labelsViewEnabled", "labelsViewEnabled", booleanAttribute], labels: "labels", tickLabelTemplateRef: "tickLabelTemplateRef" }, host: { properties: { "class.igx-slider__ticks": "this.ticksClass", "class.igx-slider__ticks--top": "this.ticksTopClass", "class.igx-slider__ticks--tall": "this.hasPrimaryClass", "class.igx-slider__tick-labels--top-bottom": "this.labelsTopToBottomClass", "class.igx-slider__tick-labels--bottom-top": "this.labelsBottomToTopClass" } }, ngImport: i0, template: "<div class=\"igx-slider__ticks-group\" *ngFor=\"let n of [].constructor(ticksLength); let idx=index\" [ngClass]=\"{ 'igx-slider__ticks-group--tall': isPrimary(idx)}\">\n    <div class=\"igx-slider__ticks-tick\">\n        <span class=\"igx-slider__ticks-label\" [ngClass]=\"{ 'igx-slider__tick-label--hidden': !hiddenTickLabels(idx)}\">\n            <ng-container *ngTemplateOutlet=\"tickLabelTemplateRef ? tickLabelTemplateRef : tickLabelDefaultTemplate; context: context(idx)\"></ng-container>\n        </span>\n    </div>\n</div>\n\n<ng-template #tickLabelDefaultTemplate let-value>\n    {{ value }}\n</ng-template>\n", dependencies: [{ kind: "directive", type: NgFor, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.4", ngImport: i0, type: IgxTicksComponent, decorators: [{
            type: Component,
            args: [{ selector: 'igx-ticks', standalone: true, imports: [NgFor, NgClass, NgTemplateOutlet], template: "<div class=\"igx-slider__ticks-group\" *ngFor=\"let n of [].constructor(ticksLength); let idx=index\" [ngClass]=\"{ 'igx-slider__ticks-group--tall': isPrimary(idx)}\">\n    <div class=\"igx-slider__ticks-tick\">\n        <span class=\"igx-slider__ticks-label\" [ngClass]=\"{ 'igx-slider__tick-label--hidden': !hiddenTickLabels(idx)}\">\n            <ng-container *ngTemplateOutlet=\"tickLabelTemplateRef ? tickLabelTemplateRef : tickLabelDefaultTemplate; context: context(idx)\"></ng-container>\n        </span>\n    </div>\n</div>\n\n<ng-template #tickLabelDefaultTemplate let-value>\n    {{ value }}\n</ng-template>\n" }]
        }], propDecorators: { primaryTicks: [{
                type: Input
            }], secondaryTicks: [{
                type: Input
            }], primaryTickLabels: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], secondaryTickLabels: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], ticksOrientation: [{
                type: Input
            }], tickLabelsOrientation: [{
                type: Input
            }], maxValue: [{
                type: Input
            }], minValue: [{
                type: Input
            }], labelsViewEnabled: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], labels: [{
                type: Input
            }], tickLabelTemplateRef: [{
                type: Input
            }], ticksClass: [{
                type: HostBinding,
                args: ['class.igx-slider__ticks']
            }], ticksTopClass: [{
                type: HostBinding,
                args: ['class.igx-slider__ticks--top']
            }], hasPrimaryClass: [{
                type: HostBinding,
                args: ['class.igx-slider__ticks--tall']
            }], labelsTopToBottomClass: [{
                type: HostBinding,
                args: ['class.igx-slider__tick-labels--top-bottom']
            }], labelsBottomToTopClass: [{
                type: HostBinding,
                args: ['class.igx-slider__tick-labels--bottom-top']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGlja3MuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvaWduaXRldWktYW5ndWxhci9zcmMvbGliL3NsaWRlci90aWNrcy90aWNrcy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9pZ25pdGV1aS1hbmd1bGFyL3NyYy9saWIvc2xpZGVyL3RpY2tzL3RpY2tzLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFlLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMzRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDOztBQUVuRTs7R0FFRztBQU9ILE1BQU0sT0FBTyxpQkFBaUI7SUFOOUI7UUF3Q0k7O1dBRUc7UUFFSSxlQUFVLEdBQUcsSUFBSSxDQUFDO0tBNEY1QjtJQTFGRzs7T0FFRztJQUNILElBQ1csYUFBYTtRQUNwQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUM7SUFDMUQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsSUFDVyxlQUFlO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVEOztPQUVHO0lBQ0gsSUFDVyxzQkFBc0I7UUFDN0IsT0FBTyxJQUFJLENBQUMscUJBQXFCLEtBQUsscUJBQXFCLENBQUMsV0FBVyxDQUFDO0lBQzVFLENBQUM7SUFFRDs7T0FFRztJQUNILElBQ1csc0JBQXNCO1FBQzdCLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixLQUFLLHFCQUFxQixDQUFDLFdBQVcsQ0FBQztJQUM1RSxD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c0JBRFosS0FBSztnQkFJQyxvQkFBb0I7c0JBRDFCLEtBQUs7Z0JBT0MsVUFBVTtzQkFEaEIsV0FBVzt1QkFBQyx5QkFBeUI7Z0JBTzNCLGFBQWE7c0JBRHZCLFdBQVc7dUJBQUMsOEJBQThCO2dCQVNoQyxlQUFlO3NCQUR6QixXQUFXO3VCQUFDLCtCQUErQjtnQkFTakMsc0JBQXNCO3NCQURoQyxXQUFXO3VCQUFDLDJDQUEyQztnQkFTN0Msc0JBQXNCO3NCQURoQyxXQUFXO3VCQUFDLDJDQUEyQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFRlbXBsYXRlUmVmLCBIb3N0QmluZGluZywgYm9vbGVhbkF0dHJpYnV0ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGlja3NPcmllbnRhdGlvbiwgVGlja0xhYmVsc09yaWVudGF0aW9uIH0gZnJvbSAnLi4vc2xpZGVyLmNvbW1vbic7XG5pbXBvcnQgeyBOZ0ZvciwgTmdDbGFzcywgTmdUZW1wbGF0ZU91dGxldCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2lneC10aWNrcycsXG4gICAgdGVtcGxhdGVVcmw6ICd0aWNrcy5jb21wb25lbnQuaHRtbCcsXG4gICAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgICBpbXBvcnRzOiBbTmdGb3IsIE5nQ2xhc3MsIE5nVGVtcGxhdGVPdXRsZXRdXG59KVxuZXhwb3J0IGNsYXNzIElneFRpY2tzQ29tcG9uZW50IHtcbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyBwcmltYXJ5VGlja3M6IG51bWJlcjtcblxuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIHNlY29uZGFyeVRpY2tzOiBudW1iZXI7XG5cbiAgICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSlcbiAgICBwdWJsaWMgcHJpbWFyeVRpY2tMYWJlbHM6IGJvb2xlYW47XG5cbiAgICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSlcbiAgICBwdWJsaWMgc2Vjb25kYXJ5VGlja0xhYmVsczogYm9vbGVhbjtcblxuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIHRpY2tzT3JpZW50YXRpb246IFRpY2tzT3JpZW50YXRpb247XG5cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyB0aWNrTGFiZWxzT3JpZW50YXRpb246IFRpY2tMYWJlbHNPcmllbnRhdGlvbjtcblxuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIG1heFZhbHVlOiBudW1iZXI7XG5cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyBtaW5WYWx1ZTogbnVtYmVyO1xuXG4gICAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pXG4gICAgcHVibGljIGxhYmVsc1ZpZXdFbmFibGVkOiBib29sZWFuO1xuXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgbGFiZWxzOiBBcnJheTxudW1iZXIgfCBzdHJpbmcgfCBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZD47XG5cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyB0aWNrTGFiZWxUZW1wbGF0ZVJlZjogVGVtcGxhdGVSZWY8YW55PjtcblxuICAgIC8qKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmlneC1zbGlkZXJfX3RpY2tzJylcbiAgICBwdWJsaWMgdGlja3NDbGFzcyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5pZ3gtc2xpZGVyX190aWNrcy0tdG9wJylcbiAgICBwdWJsaWMgZ2V0IHRpY2tzVG9wQ2xhc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpY2tzT3JpZW50YXRpb24gPT09IFRpY2tzT3JpZW50YXRpb24uVG9wO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmlneC1zbGlkZXJfX3RpY2tzLS10YWxsJylcbiAgICBwdWJsaWMgZ2V0IGhhc1ByaW1hcnlDbGFzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeVRpY2tzID4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5pZ3gtc2xpZGVyX190aWNrLWxhYmVscy0tdG9wLWJvdHRvbScpXG4gICAgcHVibGljIGdldCBsYWJlbHNUb3BUb0JvdHRvbUNsYXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWNrTGFiZWxzT3JpZW50YXRpb24gPT09IFRpY2tMYWJlbHNPcmllbnRhdGlvbi5Ub3BUb0JvdHRvbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5pZ3gtc2xpZGVyX190aWNrLWxhYmVscy0tYm90dG9tLXRvcCcpXG4gICAgcHVibGljIGdldCBsYWJlbHNCb3R0b21Ub1RvcENsYXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWNrTGFiZWxzT3JpZW50YXRpb24gPT09IFRpY2tMYWJlbHNPcmllbnRhdGlvbi5Cb3R0b21Ub1RvcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0ZW1wbGF0ZSBjb250ZXh0IGNvcnJlc3BvbmRpbmcgdG9cbiAgICAgKiB7QGxpbmsgSWd4VGlja0xhYmVsVGVtcGxhdGVEaXJlY3RpdmV9XG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogcmV0dXJuIHtcbiAgICAgKiAgJGltcGxpY2l0IC8vcmV0dXJucyB0aGUgdmFsdWUgcGVyIGVhY2ggdGljayBsYWJlbC5cbiAgICAgKiAgaXNQcmltZXJ5IC8vcmV0dXJucyBpZiB0aGUgdGljayBpcyBwcmltYXJ5LlxuICAgICAqICBsYWJlbHMgLy8gcmV0dXJucyB0aGUge0BsaW5rIGxhYmVsc30gY29sbGVjdGlvbi5cbiAgICAgKiAgaW5kZXggLy8gcmV0dXJucyB0aGUgaW5kZXggcGVyIGVhY2ggdGljayBvZiB0aGUgd2hvbGUgc2VxdWVuY2UuXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGlkeCB0aGUgaW5kZXggcGVyIGVhY2ggdGljayBsYWJlbC5cbiAgICAgKi9cbiAgICBwdWJsaWMgY29udGV4dChpZHg6IG51bWJlcik6IGFueSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAkaW1wbGljaXQ6IHRoaXMudGlja0xhYmVsKGlkeCksXG4gICAgICAgICAgICBpc1ByaW1hcnk6IHRoaXMuaXNQcmltYXJ5KGlkeCksXG4gICAgICAgICAgICBsYWJlbHM6IHRoaXMubGFiZWxzLFxuICAgICAgICAgICAgaW5kZXg6IGlkeFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHRpY2tzTGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmltYXJ5VGlja3MgPiAwID9cbiAgICAgICAgICAgICgodGhpcy5wcmltYXJ5VGlja3MgLSAxKSAqIHRoaXMuc2Vjb25kYXJ5VGlja3MpICsgdGhpcy5wcmltYXJ5VGlja3MgOlxuICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnlUaWNrcyA+IDAgPyB0aGlzLnNlY29uZGFyeVRpY2tzIDogMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGlkZGVuVGlja0xhYmVscyhpZHg6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ByaW1hcnkoaWR4KSA/IHRoaXMucHJpbWFyeVRpY2tMYWJlbHMgOiB0aGlzLnNlY29uZGFyeVRpY2tMYWJlbHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIHB1YmxpYyBpc1ByaW1hcnkoaWR4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeVRpY2tzIDw9IDAgPyBmYWxzZSA6XG4gICAgICAgICAgICBpZHggJSAodGhpcy5zZWNvbmRhcnlUaWNrcyArIDEpID09PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBwdWJsaWMgdGlja0xhYmVsKGlkeDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsc1ZpZXdFbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbHNbaWR4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhYmVsU3RlcCA9IChNYXRoLm1heCh0aGlzLm1pblZhbHVlLCB0aGlzLm1heFZhbHVlKSAtIE1hdGgubWluKHRoaXMubWluVmFsdWUsIHRoaXMubWF4VmFsdWUpKSAvICh0aGlzLnRpY2tzTGVuZ3RoIC0gMSk7XG4gICAgICAgIGNvbnN0IGxhYmVsVmFsID0gbGFiZWxTdGVwICogaWR4O1xuXG4gICAgICAgIHJldHVybiAodGhpcy5taW5WYWx1ZSArIGxhYmVsVmFsKS50b0ZpeGVkKDIpO1xuICAgIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJpZ3gtc2xpZGVyX190aWNrcy1ncm91cFwiICpuZ0Zvcj1cImxldCBuIG9mIFtdLmNvbnN0cnVjdG9yKHRpY2tzTGVuZ3RoKTsgbGV0IGlkeD1pbmRleFwiIFtuZ0NsYXNzXT1cInsgJ2lneC1zbGlkZXJfX3RpY2tzLWdyb3VwLS10YWxsJzogaXNQcmltYXJ5KGlkeCl9XCI+XG4gICAgPGRpdiBjbGFzcz1cImlneC1zbGlkZXJfX3RpY2tzLXRpY2tcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJpZ3gtc2xpZGVyX190aWNrcy1sYWJlbFwiIFtuZ0NsYXNzXT1cInsgJ2lneC1zbGlkZXJfX3RpY2stbGFiZWwtLWhpZGRlbic6ICFoaWRkZW5UaWNrTGFiZWxzKGlkeCl9XCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwidGlja0xhYmVsVGVtcGxhdGVSZWYgPyB0aWNrTGFiZWxUZW1wbGF0ZVJlZiA6IHRpY2tMYWJlbERlZmF1bHRUZW1wbGF0ZTsgY29udGV4dDogY29udGV4dChpZHgpXCI+PC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvc3Bhbj5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuXG48bmctdGVtcGxhdGUgI3RpY2tMYWJlbERlZmF1bHRUZW1wbGF0ZSBsZXQtdmFsdWU+XG4gICAge3sgdmFsdWUgfX1cbjwvbmctdGVtcGxhdGU+XG4iXX0=